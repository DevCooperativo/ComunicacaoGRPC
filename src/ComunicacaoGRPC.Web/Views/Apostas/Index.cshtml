@using ComunicacaoGRPC.Web.ViewModels
@model ApostaListViewModel

<div class="container mt-4">
    <h2 class="mb-4 text-primary">Apostas</h2>

    <div class="card mb-4 shadow-sm">
        <div class="card-header bg-primary text-white">
            Nova Aposta
        </div>
        <div class="card-body">
            <form method="post" action="/Apostas/Inserir" class="row g-3">

                <div class="col-md-6">
                    <label class="form-label">Competição:</label>
                    <select name="competicaoId" class="form-select" required>
                        <option value="">Selecione...</option>
                        @foreach (var c in Model.Competicoes)
                        {
                            <option value="@c.Id">@c.Nome - @c.Data.ToDateTime().ToString("dd/MM/yyyy")</option>
                        }
                    </select>
                </div>

                <div class="col-md-4">
                    <label class="form-label">Valor:</label>
                    <input type="number" name="valor" step="0.01" min="0.01" class="form-control"
                        placeholder="Valor da aposta" required />
                </div>

                <div class="col-md-2 d-flex align-items-end">
                    <button type="submit" class="btn btn-success w-100">Adicionar</button>
                </div>

            </form>
        </div>
    </div>

    <table class="table table-striped table-bordered shadow-sm">
        <thead class="table-primary">
            <tr>
                <th>ID</th>
                <th>Competição</th>
                <th>Valor</th>
                <th>Multiplicador</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var aposta in Model.Apostas)
            {
                <tr>
                    <td>@aposta.Id</td>
                    <td>@Model.Competicoes.First(c => c.Id == aposta.CompeticaoId).Nome</td>
                    <td>@aposta.Valor.ToString("C2")</td>
                    <td>@aposta.Multiplicador</td>
                </tr>
            }
        </tbody>
    </table>
</div>